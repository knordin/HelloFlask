{% from "util.html" import render_field %}

{% extends "base.html" %}

{% block content %}

<div id="form">
    <form name="my_profile">
        <fieldset>
	    <legend>Personal Information</legend>
            <div class="form-group">
                <label>Name:</label>
		<input name="name" id="prof_name"/>
            </div>
	    <br>
	    <div class="form-group">
                <label>Picture:</label>
		<input name="picture" id="picture"/>
            </div>
	    <br>
	    <div class="form-group">
		<label>About Me:</label>
		<input id="about" name="about"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Interests:</label>
		<input id="inter" name="inter"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Age:</label>
		<input id="age" name="age"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Email:</label>
		<input id="email" name="email"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Phone Number:</label>
		<input id="phone" name="phone"/>
	    </div>
	</fieldset>
	<br>
	<fieldset>
	    <legend>Oracle Information</legend>
	    <div class="form-group">
		<label>Location:</label>
		<input id="location" name="location"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Group:</label>
		<input id="group" name="group"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Employee ID:</label>
		<input id="empid" name="empid"/>
	    </div>
	</fieldset>
	<br>
	<fieldset>
	    <legend>Education Information</legend>
	    <div class="form-group">
		<label>School:</label>
		<input id="school" name="school"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Graduation Year:</label>
		<input id="gradYear" name="gradYear"/>
	    </div>
	    <br>
	    <div class="form-group">
		<label>Involvement:</label>
		<input id="involv" name="involv"/>
	    </div>
        </fieldset>
	<br>
	<fieldset>
	    <button type="button" class="btn" id="mybutton">Update My Profile</button>
	</fieldset>
    </form>
</div>

<!--
<form>
	<fieldset>
	<legend>Interests</legend>
	<label>Interests: 
	<br>
	<input type="radio" name="interests" value="Nightlife">Nightlife
	<input type="radio" name="interests" value="exploringSF">ExploringSF
	<input type="radio" name="interests" value="outdoors">Outdoors
	<input type="radio" name="interests" value="Sports">Sports
	<input type="radio" name="interests" value="VideoGames">VideoGames
	</fieldset>
	<button id="mybutton" class="btn" type="button">Add Profile</button>
    </form>
-->

<script type='text/javascript'>

var extractjson = function(){ 
	var s = {}
	s["profname"] = $(prof_name)[0].value
        s["picture"] = $(picture)[0].value
	s["about"]=$(about)[0].value
	s["inter"]=$(inter)[0].value
	s["age"]=$(age)[0].value
	s["email"]=$(email)[0].value
	s["phone"]=$(phone)[0].value
	s["location"]=$(location)[0].value
	s["group"]=$(group)[0].value
	s["empid"]=$(empid)[0].value
	s["school"]=$(school)[0].value
	s["gradYear"]=$(gradYear)[0].value
	s["involv"]=$(involv)[0].value
	var jsondoc = JSON.stringify(s)
	$.post("/", jsondoc, function(){location.reload(), 
					$(prof_name)[0].value = "", 
					$(picture)[0].value="",
					$(about)[0].value = "",
					$(inter)[0].value = "",
					$(age)[0].value = "",
					$(email)[0].value = "", 
					$(phone)[0].value = "",
					$(location)[0].value = ""
					$(group)[0].value = "",
					$(empid)[0].value = "",
					$(school)[0].value = "",
					$(gradYear)[0].value = "",
					$(involv)[0].value = ""})
}

$(mybutton).click(extractjson)
</script>

{% endblock %}
